<table>
<?php foreach($attrdata as $k=>$v){
if($v['attr_type']==0){
        //属性类型是唯一
        if($v['attr_input_type']==0){
                    //输入值的方式是手工输入,生成一个文本框
                    echo "<tr><td>".$v['attr_name']."</td><td>";
                    echo "<input type='text' name='attr[".$v['id']."]'/></td></tr>";
        }else{
                ////输入值的方式是列表选择
                $attrs = $v['attr_value'];//取出可选值列表的值
                //把该值转换成一个数组
                $attrs = str_replace('，',',',$attrs);//把中文的逗号转换成英文的逗号
                $attrs = explode(',',$attrs);
                echo "<tr><td>".$v['attr_name']."</td><td><select name='attr[".$v['id']."]'>";
                foreach($attrs as $k1=>$v1){
                            echo "<option value='$v1'>$v1</option>";
                }
                echo "</select></td></tr>";
        }
}else{
        //属性类型是单选的
         if($v['attr_input_type']==0){
                    //输入值的方式是手工输入,生成一个文本框
                    echo "<tr><td>".$v['attr_name']."</td><td>";
                    echo "<input type='text' name='attr[]'/></td></tr>";
        }else{
                ////输入值的方式是列表选择
                $attrs = $v['attr_value'];//取出可选值列表的值
                //把该值转换成一个数组
                $attrs = str_replace('，',',',$attrs);//把中文的逗号转换成英文的逗号
                $attrs = explode(',',$attrs);
                echo "<tr><td><a href='javascript:' onclick='copyown(this)'>[+]</a>".$v['attr_name']."</td><td><select name='attr[".$v['id']."][]'>";
                foreach($attrs as $k1=>$v1){
                            echo "<option value='$v1'>$v1</option>";
                }
                echo "</select></td></tr>";
        }
}
}?>
</table>
<script>
function copyown(o){
    //取出当前行
    var current_tr = $(o).parent().parent();
    if($(o).html()=='[+]'){
            //自我复制
            var new_tr  = current_tr.clone();//克隆当前行，
            //克隆出的新行，把里面的a标签的内容，变成[-]
            new_tr.find('a').html('[-]');
            //把新行放到当前行的后面
             current_tr.after(new_tr);
    }else{
            //自我删除当前行
            current_tr.remove();
    }
}
</script>
<table>
    <?php if()?>
</table>